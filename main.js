!function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(e){var r=function(e){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:r+""}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(t=r.currentScript.src),!t)){var n=r.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t}();var o=function(){return e=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorSpanText=t.errorSpanText,this._formElement=r},(t=[{key:"_showInputError",value:function(e,t){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),this._errorElement.textContent=t,this._errorElement.classList.add(this._errorSpanText),e.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorSpanText),this._errorElement.textContent=""}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(this._inactiveButtonClass),t.setAttribute("disabled",!0)):(t.classList.remove(this._inactiveButtonClass),t.removeAttribute("disabled"))}},{key:"_setEventListeners",value:function(e){var t=this,r=this._formElement.querySelector(this._submitButtonSelector);this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._toggleButtonState(e,r),e.forEach((function(n){t._checkValidity(n),n.addEventListener("input",(function(){t._checkValidity(n),t._toggleButtonState(e,r)}))}))}},{key:"enableValidation",value:function(){this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._setEventListeners(this._inputList)}}])&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var a=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t)},(t=[{key:"open",value:function(){this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(){var e=this;document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.close()}))}},{key:"setEventListeners",value:function(){var e=this;document.addEventListener("click",(function(t){t.target.classList.contains("popup_opened")&&e.close()})),this._popup.querySelector(".popup__close").addEventListener("click",(function(){e.close()})),this._handleEscClose()}}])&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function y(e,t,r,n){var o=h(m(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},h.apply(null,arguments)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var d=function(e){function t(e,r){var n,o=e.sendForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,r){return t=m(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}(this,t,[r]))._sendForm=o,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popup.querySelectorAll(".form__input"),this._inputValues={},this._inputList.forEach((function(t){e._inputValues[t.name]=t.value})),this._inputValues}},{key:"close",value:function(){y(t,"close",this,3)([]),this._popup.querySelector(".form").reset(),this._popup.querySelector(".form__button").textContent="Guardar"}},{key:"setEventListeners",value:function(){var e=this;y(t,"setEventListeners",this,3)([]),this._popup.querySelector(".form__button").addEventListener("click",(function(t){t.preventDefault(),e._sendForm(e._getInputValues()),e._popup.querySelector(".form__button").textContent="Guardando..."}))}}])&&l(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(a);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},w.apply(null,arguments)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var j=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=E(t),function(e,t){if(t&&("object"==v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),r=t,n=[{key:"open",value:function(e){var r,n,o,i=e.place,u=e.image;(r=t,n=this,"function"==typeof(o=w(E(1&3?r.prototype:r),"open",n))?function(e){return o.apply(n,e)}:o)([]),this._popup.querySelector(".popup__image").src=u,this._popup.querySelector(".popup__image").alt="Imagen de ".concat(i),this._popup.querySelector(".popup__place").textContent=i}}],n&&_(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(a);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function C(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function q(e,t,r,n){var o=T(x(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},T.apply(null,arguments)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var B=function(e){function t(e,r){var n,o=r.deleteFunction;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,r){return t=x(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,r||[],x(e).constructor):t.apply(e,r))}(this,t,[e]))._delete=o,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(t,e),r=t,(n=[{key:"open",value:function(e){q(t,"open",this,3)([]),this._element=e.parentNode}},{key:"setEventListeners",value:function(){var e=this;q(t,"setEventListeners",this,3)([]),this._popup.querySelector(".form__button").addEventListener("click",(function(){e._element.remove(),e._delete(e._element.id),e.close()}))}}])&&O(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(a);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function N(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}var A=function(){return e=function e(t,r){var n=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=n,this._renderer=o,this._container=document.querySelector(r)},(t=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"clear",value:function(){this._container.innerHTML=""}}])&&R(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function F(e){var t=function(e){if("object"!=V(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==V(t)?t:t+""}var J=function(){return e=function e(t){var r=t.userName,n=t.userJob;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=r,this._userJob=n},(t=[{key:"getUserInfo",value:function(){return this._info={name:this._userName.textContent,job:this._userJob.textContent},this._info}},{key:"setUserInfo",value:function(e,t){this._userName.textContent=e,this._userJob.textContent=t}}])&&D(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function G(e){var t=function(e){if("object"!=H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}var M=new(function(){return e=function e(t){var r=t.baseUrl,n=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=r,this._headers=n},(t=[{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"editUserInfo",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addNewCard",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"changeProfilePicture",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"removeLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}])&&$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}())({baseUrl:"https://around.nomoreparties.co/v1/web-es-cohort-17",headers:{authorization:"f05ef4e2-b711-4c0d-bffb-160d98715bd3","Content-Type":"application/json"}});function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function Q(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}var W=function(){return e=function e(t,r){var n=t.text,o=t.image,i=t.handleCardClick,u=t.handleLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=n,this._image=o,this._handleCardClick=i,this._handleLike=u,this._cardSelector=r},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".photos__card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".photos__image").src=this._image,this._element.querySelector(".photos__image").alt="Imagen de ".concat(this._text),this._element.querySelector(".photos__place").textContent=this._text,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".photos__like").addEventListener("click",(function(t){e._handleLikeButton(t)})),this._element.querySelector(".photos__image").addEventListener("click",(function(){e._handleCardClick()}))}},{key:"_handleLikeButton",value:function(e){e.target.classList.toggle("photos__like_active"),this._handleLike(e)}}])&&K(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),X=e.p+"a49220258e0429516be4.png";function Y(e,t,r,n){return new W({text:e,image:t,handleCardClick:function(){r.open({place:e,image:t})},handleLike:function(e){e.target.classList.contains("photos__like_active")?te({request:M.addLike(n),handler:function(t){e.target.nextElementSibling.textContent=t.likes.length}}):te({request:M.removeLike(n),handler:function(t){e.target.nextElementSibling.textContent=t.likes.length}})}},"#cards")}function Z(e,t){"bbec80a71f167775eb90ff6c"===e.owner._id&&(t.querySelector(".photos__trash").src=X)}function ee(e,t){t.querySelector(".photos__like-number").textContent=e.likes.length,e.likes.some((function(e){return"bbec80a71f167775eb90ff6c"===e._id}))&&t.querySelector(".photos__like").classList.add("photos__like_active")}function te(e){var t=e.request,r=e.handler;return t.then((function(e){return r(e)})).catch((function(e){console.log(e)}))}var re=document.querySelector(".profile__edit"),ne=document.querySelector(".profile__add"),oe=document.querySelector(".profile__image-user"),ie=document.querySelector(".form__input_type_name"),ue=document.querySelector(".form__input_type_job"),ce=document.querySelector(".profile__name"),ae=document.querySelector(".profile__hobby"),se=Array.from(document.querySelectorAll(".form")),le={inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_inactive",inputErrorClass:"form__input_type_error",errorSpanText:"form__input-error_active"},fe=[];te({request:M.getUserInfo(),handler:function(e){ce.textContent=e.name,ae.textContent=e.about,oe.onload,oe.src=e.avatar}});var pe=new j("#popup-image");pe.setEventListeners(),te({request:M.getInitialCards(),handler:function(e){var t=new A({items:e,renderer:function(e){var r=Y(e.name,e.link,pe,e._id).generateCard();ee(e,r),Z(e,r),r.id=e._id,t.addItem(r)}},".photos");return t}}).then((function(e){e.renderItems()})),se.forEach((function(e,t){fe[t]=new o(le,e)}));var ye=new J({userName:ce,userJob:ae}),he=new d({sendForm:function(e){te({request:M.editUserInfo(e.name,e.about),handler:function(e){ye.setUserInfo(e.name,e.about)}}).finally((function(){return he.close()}))}},"#popup-profile");he.setEventListeners(),re.addEventListener("click",(function(){var e=ye.getUserInfo();ie.value=e.name,ue.value=e.job,he.open(),fe[0].enableValidation()}));var me=new d({sendForm:function(e){te({request:M.addNewCard(e.name,e.link),handler:function(e){var t=Y(e.name,e.link,pe,e._id).generateCard();ee(e,t),Z(e,t),t.id=e._id,document.querySelector(".photos").prepend(t)}}).finally((function(){return me.close()}))}},"#popup-add");me.setEventListeners(),ne.addEventListener("click",(function(){me.open(),fe[1].enableValidation()}));var be=new B("#popup-delete",{deleteFunction:function(e){te({request:M.deleteCard(e),handler:function(e){console.log(e)}})}});be.setEventListeners(),document.addEventListener("click",(function(e){"photos__trash"==e.target.classList&&be.open(e.target)}));var de=new d({sendForm:function(e){te({request:M.changeProfilePicture(e.user),handler:function(){oe.src=e.user}}).finally((function(){return de.close()}))}},"#popup-user");de.setEventListeners(),oe.parentNode.addEventListener("click",(function(){de.open(),fe[2].enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBZXpELE9BRWY2QixHQUFlLEdBQUdxQixrQkFDcEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0NSSVBUJylcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgKCFzY3JpcHRVcmwgfHwgIS9eaHR0cChzPyk6Ly50ZXN0KHNjcmlwdFVybCkpKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnRGF0YSwgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWdEYXRhLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZ0RhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnRGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnRGF0YS5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvclNwYW5UZXh0ID0gY29uZmlnRGF0YS5lcnJvclNwYW5UZXh0O1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vIE11ZXN0cmEgZWwgbWVuc2FqZSBkZSBlcnJvciB5IGNhbWJpYSBsb3MgZXN0aWxvcyBkZWwgY2FtcG8gZGUgZW50cmFkYVxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JTcGFuVGV4dCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8gRXNjb25kZSBlbCBtZW5zYWplIGRlIGVycm9yIHkgcmV0aXJhIGxvcyBlc3RpbG9zIGRlbCBjYW1wbyBkZSBlbnRyYWRhXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yU3BhblRleHQpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYSBlbCBjYW1wbyBkZSBlbnRyYWRhIHkgbXVlc3RyYSBzaSBlcyB2w6FsaWRvIG8gaW52w6FsaWRvXHJcbiAgX2NoZWNrVmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhIHRvZGEgbGEgbGlzdGEgZGUgY2FtcG9zIGRlIGVudHJhZGEgeSBkZXZ1ZWx2ZSBzaSBhbGd1bmEgZXMgaW52w6FsaWRhXHJcbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcclxuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBDYW1iaWEgZWwgZXN0YWRvIGRlIFN1Ym1pdCBlbiBjYXNvIGRlIHRlbmVyIHVuIGNhbXBvIGRlIGVudHJhZGEgaW52w6FsaWRvXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgc3VibWl0QnV0dG9uKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBzdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBw7FhZGUgY29udHJvbGFkb3Jlcy9kZXRlY3RvcmVzIGRlIGV2ZW50byBhIGNhZGEgaW5wdXRcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoaW5wdXRMaXN0KSB7XHJcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHN1Ym1pdEJ1dHRvbik7XHJcblxyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrVmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHN1Ym1pdEJ1dHRvbik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBQcm9wb3JjaW9uYSBsb3MgZGV0ZWN0b3JlcyBkZSBldmVudG9zIGFsIGZvcm11bGFyaW8geSBnZW5lcmEgdW4gYXJyYXkgZGUgbG9zIGNhbXBvcyBkZSBlbnRyYWRhXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5faW5wdXRMaXN0KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgLy8gQcOxYWRlIGNsYXNlIHBhcmEgdmlzdWFsaXphciBQb3BVcFxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XG4gIH1cblxuICAvLyBFbGltaW5hIGNsYXNlIHBhcmEgb2N1bHRhciBQb3BVcFxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xuICB9XG5cbiAgLy8gRGV0ZWN0b3IgZGUgZXZlbnRvcyBwYXJhIGJvdMOzbiBFU0MgcGFyYSBjZXJyYXIgUG9wVXBcbiAgX2hhbmRsZUVzY0Nsb3NlKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIEHDsWFkZSBkZXRlY3RvcmVzIGRlIGV2ZW50b3NcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDDjWNvbm8gcGFyYSBjZXJyYXIgUG9wVXBcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgc2VuZEZvcm0gfSwgcG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9zZW5kRm9ybSA9IHNlbmRGb3JtO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVjb3BpbGEgbG9zIGRhdG9zIGRlIGxvcyBpbnB1dHNcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xyXG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fTtcclxuXHJcbiAgICAvLyBBZ3J1cGEgbG9zIGlucHV0cyBlbiB1bmEgbGlzdGEgeSBhw7FhZGUgc3VzIHZhbG9yZXMgZW4gdW4gb2JqZXRvIHZhY8Otb1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICAvLyBBw7FhZGUgYWwgbcOpdG9kbyBwYWRyZSB1biByZXNldGVvIGRlIGZvcm11bGFyaW9cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIikucmVzZXQoKTtcclxuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fYnV0dG9uXCIpLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgfVxyXG5cclxuICAvLyBBw7FhZGUgYWwgbcOpdG9kbyBwYWRyZSBsb3Mgc2lndWllbnRlcyBkZXRlY3RvcmVzIGRlIGV2ZW50b3M6XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIC8vIEVzdGFibGVjZSBjb21wb3J0YW1pZW50byBkZSBTdWJtaXRcclxuICAgIHRoaXMuX3BvcHVwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2J1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9zZW5kRm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2J1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiR3VhcmRhbmRvLi4uXCI7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IHBsYWNlLCBpbWFnZSB9KSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKS5zcmMgPSBpbWFnZTtcclxuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpLmFsdCA9IGBJbWFnZW4gZGUgJHtwbGFjZX1gO1xyXG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGxhY2VcIikudGV4dENvbnRlbnQgPSBwbGFjZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBkZWxldGVGdW5jdGlvbiB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2RlbGV0ZSA9IGRlbGV0ZUZ1bmN0aW9uO1xyXG4gIH1cclxuXHJcbiAgLy8gQWJyZSBQb3BVcCB5IHJlY2liZSBlbCBldnQudGFyZ2V0IGRlbCBlbGVtZW50bywgcGFyYSBhY2NlZGVyIGEgc3Ugbm9kbyBwYWRyZVxyXG4gIG9wZW4oZWxlbWVudCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICB9XHJcblxyXG4gIC8vIEHDsWFkZSBkZXRlY3RvciBkZSBldmVudG9zIGFsIGJvdMOzbiBwYXJhIGJvcnJhciBlbGVtZW50b1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2J1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLl9kZWxldGUodGhpcy5fZWxlbWVudC5pZCk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvLyBNw6l0b2RvIHBhcmEgaXRlcmFyIGVuIGVsIGFycmF5IGRlIGVsZW1lbnRvcyB5IHBhc2FybG9zIHNvYnJlIGZ1bmNpw7NuXHJcbiAgLy8gZGVsIGNvbnN0cnVjdG9yLCBwYXJhIGRlc3B1w6lzIGFncmVnYXJsb3MgYWwgRE9NLlxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIE3DqXRvZG8gcGFyYSBhZ3JlZ2FyIGxvcyBlbGVtZW50b3MgYWwgRE9NXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgLy8gTcOpdG9kbyBhZGljaW9uYWwgcGFyYSBsaW1waWFyIGVsIGNvbnRlbmVkb3JcclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZSwgdXNlckpvYiB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IHVzZXJOYW1lO1xyXG4gICAgdGhpcy5fdXNlckpvYiA9IHVzZXJKb2I7XHJcbiAgfVxyXG5cclxuICAvLyBHZW5lcmEgb2JqZXRvIGNvbiBpbmZvcm1hY2nDs24gYWN0dWFsIGRlbCB1c3VhcmlvXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICB0aGlzLl9pbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl91c2VySm9iLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5faW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5hbWUsIGpvYikge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCA9IGpvYjtcclxuICB9XHJcbn1cclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIC8vIEZ1bmNpw7NuIFByb21pc2UgcGFyYSBvYnRlbmVyIGluZm9ybWFjacOzbiBpbmljaWFsIGRlIHVzdWFyaW8gZGVsIHNlcnZpZG9yXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSkudGhlbihcclxuICAgICAgKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gRnVuY2nDs24gUHJvbWlzZSBwYXJhIG9idGVuZXIgY2FydGFzIGluaWNpYWxlcyBkZWwgc2Vydmlkb3JcclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSkudGhlbihcclxuICAgICAgKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy9GdW5jacOzbiBQcm9taXNlIHBhcmEgZWRpdGFyIGluZm9ybWFjacOzbiBkZSB1c3VhcmlvXHJcbiAgZWRpdFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBGdW5jacOzbiBQcm9taXNlIHBhcmEgYcOxYWRpciBudWV2YSB0YXJqZXRhXHJcbiAgYWRkTmV3Q2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBGdW5jacOzbiBQcm9taXNlIHBhcmEgYm9ycmFyIHRhcmpldGFcclxuICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gRnVuY2nDs24gUHJvbWlzZSBwYXJhIGNhbWJpYXIgZm90byBkZSBwZXJmaWwgZGUgdXN1YXJpb1xyXG4gIGNoYW5nZVByb2ZpbGVQaWN0dXJlKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEZ1bmNpw7NuIFByb21pc2UgcGFyYSBhw7FhZGlyIExpa2UgYSBsYSBwdWJsaWNhY2nDs25cclxuICBhZGRMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gRnVuY2nDs24gcGFyYSBib3JyYXIgTGlrZSBhIGxhIHB1YmxpY2FjacOzblxyXG4gIHJlbW92ZUxpa2UoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhY2nDs24gZGUgaW5zdGFuY2lhIGRlIEFwaSBwYXJhIHNvbGljaXR1ZGVzIGEgc2Vydmlkb3JcclxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWItZXMtY29ob3J0LTE3XCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJmMDVlZjRlMi1iNzExLTRjMGQtYmZmYi0xNjBkOTg3MTViZDNcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG4iLCIvLyBDbGFzZSBDYXJkIHBhcmEgZ2VuZXJhY2nDs24gZGUgaW3DoWdlbmVzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHsgdGV4dCwgaW1hZ2UsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZSB9LCBjYXJkU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xyXG4gICAgdGhpcy5faW1hZ2UgPSBpbWFnZTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2UgPSBoYW5kbGVMaWtlO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhIGxhIHBsYW50aWxsYSBwYXJhIGNhZGEgaW5zdGFuY2lhIGRlIGxhIGNsYXNlIHkgbGEgcmVncmVzYVxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX2NhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZFRlbXBsYXRlO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVsbGVuYSBsYSBwbGFudGlsbGEgZGUgbGEgaW5zdGFuY2lhIGNvbiBsYSBpbmZvcm1hY2nDs24gbmVjZXNhcmlhIHkgbGEgcmVncmVzYVxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucGhvdG9zX19pbWFnZVwiXHJcbiAgICApLmFsdCA9IGBJbWFnZW4gZGUgJHt0aGlzLl90ZXh0fWA7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zX19wbGFjZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlY3RvcmVzIGRlIGV2ZW50b3MgcGFyYSBsYXMgaW5zdGFuY2lhcyBkZSBjbGFzZVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zX19saWtlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24oZXZ0KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX2ltYWdlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEZ1bmNpb25hbGlkYWQgZGVsIGJvdMOzbiBMaWtlXHJcbiAgX2hhbmRsZUxpa2VCdXR0b24oZXZ0KSB7XHJcbiAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJwaG90b3NfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZShldnQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB0cmFzaEljb24gZnJvbSBcIi4uL2ltYWdlcy90cmFzaC5wbmdcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG4vLyBGdW5jacOzbiBwYXJhIGNyZWFjacOzbiBkZSBpbnN0YW5jaWFzIGRlIGNsYXNlIENhcmRcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChuYW1lLCBsaW5rLCBwb3B1cEluc3RhbmNlLCBpZCkge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgdGV4dDogbmFtZSxcclxuICAgICAgaW1hZ2U6IGxpbmssXHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwSW5zdGFuY2Uub3Blbih7XHJcbiAgICAgICAgICBwbGFjZTogbmFtZSxcclxuICAgICAgICAgIGltYWdlOiBsaW5rLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVMaWtlOiAoZXZ0KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGhvdG9zX19saWtlX2FjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgaGFuZGxlU2VydmVyUmVxdWVzdCh7XHJcbiAgICAgICAgICAgIHJlcXVlc3Q6IGFwaS5hZGRMaWtlKGlkKSxcclxuICAgICAgICAgICAgaGFuZGxlcjogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgIGV2dC50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBoYW5kbGVTZXJ2ZXJSZXF1ZXN0KHtcclxuICAgICAgICAgICAgcmVxdWVzdDogYXBpLnJlbW92ZUxpa2UoaWQpLFxyXG4gICAgICAgICAgICBoYW5kbGVyOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgZXZ0LnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIFwiI2NhcmRzXCJcclxuICApO1xyXG4gIHJldHVybiBuZXdDYXJkO1xyXG59XHJcblxyXG4vLyBGdW5jacOzbiBwYXJhIGFncmVnYXIgb3BjacOzbiBkZSBib3JyYXIgYSBpbnN0YWNpYXMgQ2FyZCBwcm9waWFzXHJcbmZ1bmN0aW9uIGFzc2lnbkRlbGV0ZUljb24oY2FyZEl0ZW0sIGNhcmRFbGVtZW50KSB7XHJcbiAgaWYgKGNhcmRJdGVtLm93bmVyLl9pZCA9PT0gXCJiYmVjODBhNzFmMTY3Nzc1ZWI5MGZmNmNcIikge1xyXG4gICAgY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX3RyYXNoXCIpLnNyYyA9IHRyYXNoSWNvbjtcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmNpw7NuIHBhcmEgaW5zZXJ0YXIgZWwgbsO6bWVybyBkZSBMaWtlcyBkZXNkZSBlbCBzZXJ2aWRvclxyXG5mdW5jdGlvbiBhc3NpZ25MaWtlSWNvbihjYXJkSXRlbSwgY2FyZEVsZW1lbnQpIHtcclxuICBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob3Rvc19fbGlrZS1udW1iZXJcIikudGV4dENvbnRlbnQgPVxyXG4gICAgY2FyZEl0ZW0ubGlrZXMubGVuZ3RoO1xyXG4gIGNvbnN0IGlzTGlrZWQgPSBjYXJkSXRlbS5saWtlcy5zb21lKFxyXG4gICAgKGxpa2UpID0+IGxpa2UuX2lkID09PSBcImJiZWM4MGE3MWYxNjc3NzVlYjkwZmY2Y1wiXHJcbiAgKTtcclxuICBpZiAoaXNMaWtlZClcclxuICAgIGNhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBob3Rvc19fbGlrZVwiKVxyXG4gICAgICAuY2xhc3NMaXN0LmFkZChcInBob3Rvc19fbGlrZV9hY3RpdmVcIik7XHJcbn1cclxuXHJcbi8vIEZ1bmNpw7NuIHBhcmEgcHJvY2VzYXIgbGFzIHNvbGljaXR1ZGVzIGRlbCBzZXJ2aWRvclxyXG5mdW5jdGlvbiBoYW5kbGVTZXJ2ZXJSZXF1ZXN0KHsgcmVxdWVzdCwgaGFuZGxlciB9KSB7XHJcbiAgcmV0dXJuIHJlcXVlc3RcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIGhhbmRsZXIocmVzKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGNyZWF0ZUNhcmQsIGFzc2lnbkRlbGV0ZUljb24sIGFzc2lnbkxpa2VJY29uLCBoYW5kbGVTZXJ2ZXJSZXF1ZXN0IH07XHJcbiIsIi8vIEJvdG9uZXMgcGFyYSBlZGl0YXIgcGVyZmlsIHkgYcOxYWRpciBpbcOhZ2VuZXNcclxuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXRcIik7XHJcbmNvbnN0IGFkZEltYWdlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGRcIik7XHJcbmNvbnN0IHVzZXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtdXNlclwiKTtcclxuXHJcbi8vIElucHV0cyBwYXJhIFBvcFVwIEVkaXRhciBQZXJmaWxcclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX25hbWVcIik7XHJcbmNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX2pvYlwiKTtcclxuXHJcbi8vIEVsZW1lbnRvcyBkZWwgbWFyY2FkbyBhIG1vZGlmaWNhclxyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faG9iYnlcIik7XHJcblxyXG4vLyBBcnJheSBjb24gZm9ybXVsYXJpb3MgeSBwYXLDoW1ldHJvcyBkZSBjb25maWd1cmFjacOzblxyXG5jb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtXCIpKTtcclxuXHJcbi8vIE9iamV0byBjb24gcGFyw6FtZXRyb3MgZGUgY29uZmlndXJhY2nDs24gcGFyYSB2YWxpZGFjacOzbiBkZSBmb3JtdWxhcmlvc1xyXG5jb25zdCBjb25maWdQYXJhbWV0ZXJzID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvclNwYW5UZXh0OiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxyXG59O1xyXG5cclxuLy8gQXJyYXkgdmFjw61vIHBhcmEgY2FkYSBpbnN0YW5jaWEgZGUgRm9ybVZhbGlkYXRvclxyXG5sZXQgbmV3VmFsaWRhdGlvbnMgPSBbXTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgZWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgYWRkSW1hZ2VCdXR0b24sXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZUpvYixcclxuICBmb3JtTGlzdCxcclxuICBjb25maWdQYXJhbWV0ZXJzLFxyXG4gIG5ld1ZhbGlkYXRpb25zLFxyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICB1c2VySW1hZ2UsXHJcbn07XHJcbiIsIi8vIEltcG9ydGFjacOzbiBkZSBob2phcyBkZSBlc3RpbG9zXHJcbmltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiO1xyXG5cclxuLy8gSW1wb3J0YXIgY2xhc2VzIHkgY29uc3RhbnRlcyBKU1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlQ2FyZCxcclxuICBhc3NpZ25EZWxldGVJY29uLFxyXG4gIGFzc2lnbkxpa2VJY29uLFxyXG4gIGhhbmRsZVNlcnZlclJlcXVlc3QsXHJcbn0gZnJvbSBcIi4vdXRpbHMvdXRpbHMuanNcIjtcclxuaW1wb3J0IHtcclxuICBlZGl0UHJvZmlsZUJ1dHRvbixcclxuICBhZGRJbWFnZUJ1dHRvbixcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlSm9iLFxyXG4gIGZvcm1MaXN0LFxyXG4gIGNvbmZpZ1BhcmFtZXRlcnMsXHJcbiAgbmV3VmFsaWRhdGlvbnMsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGpvYklucHV0LFxyXG4gIHVzZXJJbWFnZSxcclxufSBmcm9tIFwiLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbi8vIENvbnNpZ3VlIGxhIGluZm9ybWFjacOzbiBkZWwgdXN1YXJpbyBkZWwgc2Vydmlkb3JcclxuLy8gYXBpXHJcbmhhbmRsZVNlcnZlclJlcXVlc3Qoe1xyXG4gIHJlcXVlc3Q6IGFwaS5nZXRVc2VySW5mbygpLFxyXG4gIGhhbmRsZXI6ICh1c2VyU2VydmVySW5mbykgPT4ge1xyXG4gICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB1c2VyU2VydmVySW5mby5uYW1lO1xyXG4gICAgcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IHVzZXJTZXJ2ZXJJbmZvLmFib3V0O1xyXG4gICAgdXNlckltYWdlLm9ubG9hZDtcclxuICAgIHVzZXJJbWFnZS5zcmMgPSB1c2VyU2VydmVySW5mby5hdmF0YXI7XHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBHZW5lcmFjacOzbiBkZSBpbnN0YW5jaWEgcGFyYSBQb3BVcCBkZSBpbcOhZ2VuZXNcclxuY29uc3QgbmV3SW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwb3B1cC1pbWFnZVwiKTtcclxubmV3SW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gR2VuZXJhY2nDs24gZGUgY2FydGFzIGluaWNpYWxlcyBvYnRlbmlkYXMgZGVsIHNlcnZpZG9yXHJcbi8vIEFjb3BsYW1pZW50byBkw6liaWwgKExvb3NlIENvdXBsaW5nKVxyXG5oYW5kbGVTZXJ2ZXJSZXF1ZXN0KHtcclxuICByZXF1ZXN0OiBhcGkuZ2V0SW5pdGlhbENhcmRzKCksXHJcbiAgaGFuZGxlcjogKGluaXRpYWxDYXJkcykgPT4ge1xyXG4gICAgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXHJcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkSXRlbSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQoXHJcbiAgICAgICAgICAgIGNhcmRJdGVtLm5hbWUsXHJcbiAgICAgICAgICAgIGNhcmRJdGVtLmxpbmssXHJcbiAgICAgICAgICAgIG5ld0ltYWdlUG9wdXAsXHJcbiAgICAgICAgICAgIGNhcmRJdGVtLl9pZFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuXHJcbiAgICAgICAgICAvLyBJbnNlcnRhIGVsIG7Dum1lcm8gZGUgTGlrZXMgZGVzZGUgZWwgc2Vydmlkb3JcclxuICAgICAgICAgIGFzc2lnbkxpa2VJY29uKGNhcmRJdGVtLCBjYXJkRWxlbWVudCk7XHJcbiAgICAgICAgICAvLyBJbnNlcnRhIMOtY29ubyBkZSBib3JyYXIgc29sYW1lbnRlIGEgdGFyamV0YXMgcHJvcGlhc1xyXG4gICAgICAgICAgYXNzaWduRGVsZXRlSWNvbihjYXJkSXRlbSwgY2FyZEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgIGNhcmRFbGVtZW50LmlkID0gY2FyZEl0ZW0uX2lkO1xyXG4gICAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgXCIucGhvdG9zXCJcclxuICAgICk7XHJcbiAgICByZXR1cm4gY2FyZExpc3Q7XHJcbiAgfSxcclxufSkudGhlbigoY2FyZExpc3QpID0+IHtcclxuICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG59KTtcclxuXHJcbi8vIEdlbmVyYWNpw7NuIGRlIGluc3RhbmNpYXMgRm9ybVZhbGlkYXRvciBwYXJhIHZhbGlkYWNpw7NuIGRlIGZvcm11bGFyaW9zXHJcbmZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gIG5ld1ZhbGlkYXRpb25zW2luZGV4XSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ1BhcmFtZXRlcnMsIGZvcm1FbGVtZW50KTtcclxufSk7XHJcblxyXG4vLyBHZW5lcmFjacOzbiBkZSBpbnN0YW5jaWEgY29uIGluZm9ybWFjacOzbiBkZSB1c3VhcmlvXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZTogcHJvZmlsZU5hbWUsXHJcbiAgdXNlckpvYjogcHJvZmlsZUpvYixcclxufSk7XHJcblxyXG4vLyBHZW5lcmFjacOzbiBkZSBQb3BVcCBwYXJhIGVkaXRhciBwZXJmaWxcclxuY29uc3QgcG9wVXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAge1xyXG4gICAgc2VuZEZvcm06IChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgICBoYW5kbGVTZXJ2ZXJSZXF1ZXN0KHtcclxuICAgICAgICByZXF1ZXN0OiBhcGkuZWRpdFVzZXJJbmZvKGlucHV0VmFsdWVzLm5hbWUsIGlucHV0VmFsdWVzLmFib3V0KSxcclxuICAgICAgICBoYW5kbGVyOiAobmV3VXNlckluZm8pID0+IHtcclxuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKG5ld1VzZXJJbmZvLm5hbWUsIG5ld1VzZXJJbmZvLmFib3V0KTtcclxuICAgICAgICB9LFxyXG4gICAgICB9KS5maW5hbGx5KCgpID0+IHBvcFVwUHJvZmlsZS5jbG9zZSgpKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIiNwb3B1cC1wcm9maWxlXCJcclxuKTtcclxucG9wVXBQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgY3VycmVudFVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8ubmFtZTtcclxuICBqb2JJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5qb2I7XHJcbiAgcG9wVXBQcm9maWxlLm9wZW4oKTtcclxuICAvLyBGdW5jacOzbiBwYXJhIHZhbGlkYWNpw7NuIGFsIGFicmlyIGZvcm11bGFyaW9cclxuICBuZXdWYWxpZGF0aW9uc1swXS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuLy8gR2VuZXJhY2nDs24gZGUgUG9wVXAgcGFyYSBhw7FhZGlyIG51ZXZvIFBvc3RcclxuY29uc3QgcG9wVXBBZGRQb3N0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAge1xyXG4gICAgc2VuZEZvcm06IChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgICBoYW5kbGVTZXJ2ZXJSZXF1ZXN0KHtcclxuICAgICAgICByZXF1ZXN0OiBhcGkuYWRkTmV3Q2FyZChpbnB1dFZhbHVlcy5uYW1lLCBpbnB1dFZhbHVlcy5saW5rKSxcclxuICAgICAgICBoYW5kbGVyOiAobmV3UG9zdEluZm8pID0+IHtcclxuICAgICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVDYXJkKFxyXG4gICAgICAgICAgICBuZXdQb3N0SW5mby5uYW1lLFxyXG4gICAgICAgICAgICBuZXdQb3N0SW5mby5saW5rLFxyXG4gICAgICAgICAgICBuZXdJbWFnZVBvcHVwLFxyXG4gICAgICAgICAgICBuZXdQb3N0SW5mby5faWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcblxyXG4gICAgICAgICAgYXNzaWduTGlrZUljb24obmV3UG9zdEluZm8sIGNhcmRFbGVtZW50KTtcclxuICAgICAgICAgIGFzc2lnbkRlbGV0ZUljb24obmV3UG9zdEluZm8sIGNhcmRFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICBjYXJkRWxlbWVudC5pZCA9IG5ld1Bvc3RJbmZvLl9pZDtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zXCIpLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gcG9wVXBBZGRQb3N0LmNsb3NlKCkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiI3BvcHVwLWFkZFwiXHJcbik7XHJcbnBvcFVwQWRkUG9zdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hZGRJbWFnZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcFVwQWRkUG9zdC5vcGVuKCk7XHJcbiAgLy8gRnVuY2nDs24gcGFyYSB2YWxpZGFjacOzbiBhbCBhYnJpciBmb3JtdWxhcmlvXHJcbiAgbmV3VmFsaWRhdGlvbnNbMV0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbi8vIEdlbmVyYWNpw7NuIGRlIFBvcFVwIHBhcmEgYm9ycmFyIHRhcmpldGFzXHJcbmNvbnN0IHBvcFVwRGVsZXRlUG9zdCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXCIjcG9wdXAtZGVsZXRlXCIsIHtcclxuICBkZWxldGVGdW5jdGlvbjogKGlkKSA9PiB7XHJcbiAgICBoYW5kbGVTZXJ2ZXJSZXF1ZXN0KHtcclxuICAgICAgcmVxdWVzdDogYXBpLmRlbGV0ZUNhcmQoaWQpLFxyXG4gICAgICBoYW5kbGVyOiAocmVzKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5wb3BVcERlbGV0ZVBvc3Quc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8gRGV0ZWN0b3IgZGUgZXZlbnRvcyBwYXJhIGJvcnJhciBpbcOhZ2VuZXNcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QgPT0gXCJwaG90b3NfX3RyYXNoXCIpIHtcclxuICAgIHBvcFVwRGVsZXRlUG9zdC5vcGVuKGV2dC50YXJnZXQpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyBHZW5lcmFjacOzbiBkZSBQb3BVcCBwYXJhIGNhbWJpYXIgRm90byBkZSBQZXJmaWxcclxuY29uc3QgcG9wVXBVc2VySW1hZ2UgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICB7XHJcbiAgICBzZW5kRm9ybTogKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICAgIGhhbmRsZVNlcnZlclJlcXVlc3Qoe1xyXG4gICAgICAgIHJlcXVlc3Q6IGFwaS5jaGFuZ2VQcm9maWxlUGljdHVyZShpbnB1dFZhbHVlcy51c2VyKSxcclxuICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICB1c2VySW1hZ2Uuc3JjID0gaW5wdXRWYWx1ZXMudXNlcjtcclxuICAgICAgICB9LFxyXG4gICAgICB9KS5maW5hbGx5KCgpID0+IHBvcFVwVXNlckltYWdlLmNsb3NlKCkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiI3BvcHVwLXVzZXJcIlxyXG4pO1xyXG5wb3BVcFVzZXJJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG51c2VySW1hZ2UucGFyZW50Tm9kZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcFVwVXNlckltYWdlLm9wZW4oKTtcclxuICAvLyBGdW5jacOzbiBwYXJhIHZhbGlkYWNpw7NuIGRlIGZvcm11bGFyaW9cclxuICBuZXdWYWxpZGF0aW9uc1syXS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImkiLCJ0ZXN0IiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWdEYXRhIiwiZm9ybUVsZW1lbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JTcGFuVGV4dCIsImVycm9yU3BhblRleHQiLCJfZm9ybUVsZW1lbnQiLCJrZXkiLCJ2YWx1ZSIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsIl9lcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uY2F0IiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsInNvbWUiLCJzdWJtaXRCdXR0b24iLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX3RoaXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrVmFsaWRpdHkiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zZXRFdmVudExpc3RlbmVycyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsImNsb3NlIiwiX3RoaXMyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJfaGFuZGxlRXNjQ2xvc2UiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwiX3JlZiIsInNlbmRGb3JtIiwiX2NhbGxTdXBlciIsIl9zZW5kRm9ybSIsIl9pbmhlcml0cyIsIl9pbnB1dFZhbHVlcyIsImlucHV0IiwibmFtZSIsIl9zdXBlclByb3BHZXQiLCJyZXNldCIsIl90aGlzMyIsIl9nZXRJbnB1dFZhbHVlcyIsIlBvcHVwV2l0aEltYWdlIiwicGxhY2UiLCJpbWFnZSIsImFsdCIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsImRlbGV0ZUZ1bmN0aW9uIiwiX2RlbGV0ZSIsImVsZW1lbnQiLCJfZWxlbWVudCIsInBhcmVudE5vZGUiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiVXNlckluZm8iLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsIl9pbmZvIiwiam9iIiwiYXBpIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsaW5rIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJ0ZXh0IiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZSIsIl90ZXh0IiwiX2ltYWdlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlIiwiX2NhcmRTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsInRvZ2dsZSIsImNyZWF0ZUNhcmQiLCJwb3B1cEluc3RhbmNlIiwib3BlbiIsImhhbmRsZVNlcnZlclJlcXVlc3QiLCJyZXF1ZXN0IiwiYWRkTGlrZSIsImhhbmRsZXIiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJsaWtlcyIsInJlbW92ZUxpa2UiLCJhc3NpZ25EZWxldGVJY29uIiwiY2FyZEl0ZW0iLCJjYXJkRWxlbWVudCIsIm93bmVyIiwiX2lkIiwidHJhc2hJY29uIiwiYXNzaWduTGlrZUljb24iLCJsaWtlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJhZGRJbWFnZUJ1dHRvbiIsInVzZXJJbWFnZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwiZm9ybUxpc3QiLCJjb25maWdQYXJhbWV0ZXJzIiwibmV3VmFsaWRhdGlvbnMiLCJnZXRVc2VySW5mbyIsInVzZXJTZXJ2ZXJJbmZvIiwib25sb2FkIiwibmV3SW1hZ2VQb3B1cCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2V0SW5pdGlhbENhcmRzIiwiaW5pdGlhbENhcmRzIiwiY2FyZExpc3QiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJpbmRleCIsInVzZXJJbmZvIiwicG9wVXBQcm9maWxlIiwiaW5wdXRWYWx1ZXMiLCJlZGl0VXNlckluZm8iLCJuZXdVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZmluYWxseSIsImN1cnJlbnRVc2VySW5mbyIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3BVcEFkZFBvc3QiLCJhZGROZXdDYXJkIiwibmV3UG9zdEluZm8iLCJwcmVwZW5kIiwicG9wVXBEZWxldGVQb3N0IiwiZGVsZXRlQ2FyZCIsInBvcFVwVXNlckltYWdlIiwiY2hhbmdlUHJvZmlsZVBpY3R1cmUiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiIifQ==